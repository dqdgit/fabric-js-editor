<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Editor</title>

    <!--[if lt IE 9]>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/flot/0.8.3/excanvas.js"></script>
    <![endif]-->

    <!--[if lte IE 9]>
      <script type="text/javascript" src="js/lib/blob.min.js"></script>
    <![endif]-->

    <!-- Stylesheets -->
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,500,700" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/MaterialDesign-Webfont/1.9.33/css/materialdesignicons.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/material-design-lite/1.3.0/material.min.css" /> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/spectrum/1.8.0/spectrum.min.css" /> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-contextmenu/2.5.0/jquery.contextMenu.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tooltipster/3.3.0/css/tooltipster.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dialog-polyfill/0.4.7/dialog-polyfill.min.css" />

    <link rel="stylesheet" type="text/css" href="svg-editor.css">
  </head>

  <body>
    <!-- Layout -->
    <!--<div class="mdl-layout mdl-js-layout">-->
    <div id="editor-layout">
      <!-- Main -->
      <!--<main class="mdl-layout__content">-->
      <main id="editor-content">
        <div class="container">

          <!-- Toolbar -->
          <div id="toolbar">

            <!-- Fixed tools -->
            <!-- File tool -->
            <div id="toolbar-file" class="toolbar-item toolbar-dropdown mdi mdi-content-save mdi-18px">
              <div class="toolbar-menu-down mdi mdi-menu-down mdi-18px"></div>

              <div class="toolbar-submenu noselect noshow">
                <div id="file-import-template" class="submenu-item">Import template...</div>
                <div id="file-import-svg" class="submenu-item">Import SVG...</div>
                <div id="file-import-image" class="submenu-item">Import image...</div>

                <div class="submenu-separator"></div>

                <div id="File-export-svg" class="submenu-item">Download as SVG</div>
                <div id="File-export-image" class="submenu-item">Download as image</div>
              </div><!-- /toolbar-submenu -->
            </div><!-- /toolbar-file -->

            <!-- Undo/redo -->
            <div id="toolbar-undo" class="toolbar-item mdi mdi-undo mdi-18px"></div>
            <div class="mdl-tooltip mdl-tooltip--large noselect" for="toolbar-undo">Undo</div>

            <div id="toolbar-redo" class="toolbar-item mdi mdi-redo mdi-18px"></div>
            <div class="mdl-tooltip mdl-tooltip--large noselect" for="toolbar-redo">Redo</div>

            <div class="toolbar-separator"></div>

            <!-- Select tool -->
            <div id="toolbar-select" class="toolbar-item mdi mdi-cursor-default mdi-18px"></div>
            <div class="mdl-tooltip mdl-tooltip--large noselect" for="toolbar-select">Select</div>

            <!-- Text -->
            <div id="toolbar-text" class="toolbar-item mdi mdi-cursor-text mdi-18px"></div>
            <div class="mdl-tooltip mdl-tooltip--large noselect" for="toolbar-text">Text</div>

            <!-- Shapes -->
            <div id="toolbar-shape" class="toolbar-item toolbar-dropdown mdi mdi-drawing mdi-18px">
              <div class="toolbar-menu-down mdi mdi-menu-down mdi-18px"></div>

              <div class="toolbar-submenu noselect noshow">
                <div class="submenu-item mdi mdi-vector-line" id="shapes-line">
                  Line
                </div>
                <div class="submenu-item mdi mdi-vector-circle-variant mdi-18px" id="shapes-circle">
                  Circle
                </div>
                <div class="submenu-item mdi mdi-vector-rectangle mdi-18px" id="shapes-rectangle">
                  Rectangle
                </div>
                <div class="submenu-item mdi mdi-vector-rectangle mdi-18px" id="shapes-rounded">
                  Rounded Rectangle
                </div>
              </div><!-- /toolbar-submenu -->
            </div><!-- /toolbar-shape -->
            <div class="mdl-tooltip mdl-tooltip--large noselect" for="toolbar-shape">Shape</div>

            <div class="toolbar-separator"></div>

            <!-- Situational tools -->
            <div id="active-tools" class="noshow">

              <!-- All tools (text, shape, group, svg) -->
              <div class="text shape group svg">

                <!-- Centering -->
                <div id="toolbar-horizontal-center" class="toolbar-item mdi mdi-format-horizontal-align-center mdi-18px"></div>
                <div class="mdl-tooltip mdl-tooltip--large noselect" for="toolbar-horizontal-center">Center horizontally</div>

                <div id="toolbar-vertical-center" class="toolbar-item mdi mdi-format-vertical-align-center mdi-18px"></div>
                <div class="mdl-tooltip mdl-tooltip--large noselect" for="toolbar-vertical-center">Center vertically</div>

                <!-- Arrange -->
                <div id="toolbar-arrange" class="toolbar-item toolbar-dropdown mdi mdi-arrange-bring-forward mdi-18px noselect">
                  <div class="toolbar-menu-down mdi mdi-menu-down mdi-18px"></div>

                  <div class="toolbar-submenu noselect noshow">
                    <div class="submenu-item mdi mdi-arrange-send-to-back mdi-18px" id="toolbar-send-back">
                      Send to Back
                    </div>
                    <div class="submenu-item mdi mdi-arrange-send-backward mdi-18px" id="toolbar-send-backward">
                      Send Backward
                    </div>
                    <div class="submenu-item mdi mdi-arrange-bring-forward mdi-18px" id="toolbar-bring-forward">
                      Bring Forward
                    </div>
                    <div class="submenu-item mdi mdi-arrange-bring-to-front mdi-18px" id="toolbar-bring-front">
                      Bring to Front
                    </div>
                  </div><!-- /toolbar-submenu -->
                </div><!-- /toolbar-arrange -->
                <div class="mdl-tooltip mdl-tooltip--large noselect" for="toolbar-arrange">Arrange objects</div>

                <div class="toolbar-separator"></div>

              </div> <!-- /text shape group svg -->

              <!-- Text tools -->
              <div class="text">

                <!-- Font family -->
                <div id="toolbar-font-family" class="toolbar-item toolbar-dropdown noselect">
                  <span id="current-font" class="user-select: none"></span>
                  <div class="toolbar-menu-down mdi mdi-menu-down mdi-18px"></div>

                  <div id="toolbar-font-family-submenu" class="toolbar-submenu noselect scrolling noshow">
                  </div><!-- /toolbar-font-submenu -->
                </div>
                <div class="mdl-tooltip mdl-tooltip--large noselect" for="toolbar-font-family">Font</div>

                <div class="toolbar-separator"></div>

                <!-- Bold -->
                <div id="toolbar-bold" class="toolbar-item mdi mdi-format-bold mdi-18px"></div>
                <div class="mdl-tooltip mdl-tooltip--large noselect" for="toolbar-bold">Bold</div>

                <!-- Italics -->
                <div id="toolbar-italics" class="toolbar-item mdi mdi-format-italic mdi-18px"></div>
                <div class="mdl-tooltip mdl-tooltip--large noselect" for="toolbar-italics">Italics</div>

                <!-- Underline -->
                <div id="toolbar-underline" class="toolbar-item mdi mdi-format-underline mdi-18px"></div>
                <div class="mdl-tooltip mdl-tooltip--large noselect" for="toolbar-underline">Underline</div>

                <!-- Font size -->
                <div id="toolbar-font-size" class="toolbar-item toolbar-dropdown noselect">
                  <span id="current-font-size">18</span>
                  <div class="toolbar-menu-down mdi mdi-menu-down mdi-18px"></div>

                  <div id="toolbar-font-size-submenu" class="toolbar-submenu noselect scrolling noshow">
                  </div>
                </div>
                <div class="mdl-tooltip mdl-tooltip--large noselect" for="toolbar-font-size">Font size</div>

                <!-- Text alignment -->
                <div id="toolbar-text-align" class="toolbar-item toolbar-dropdown mdi mdi-format-align-left mdi-18px noselect">
                  <div class="toolbar-menu-down mdi mdi-menu-down mdi-18px"></div>

                  <div id="toolbar-text-align-submenu" class="toolbar-submenu noselect scrolling noshow">
                    <div id="text-align-left" class="submenu-item mdi mdi-format-align-left mdi-18px">Left</div>
                    <div id="text-align-center" class="submenu-item mdi mdi-format-align-center mdi-18px">Center</div>
                    <div id="text-align-right" class="submenu-item mdi mdi-format-align-right mdi-18px">Right</div>
                  </div>
                </div>
                <div class="mdl-tooltip mdl-tooltip--large noselect" for="toolbar-text-align">Align</div>
              
                <!-- Text line spacing -->
                <div id="toolbar-text-line-spacing" class="toolbar-item mdi mdi-format-line-spacing mdi-18px noselect">

                </div>
                <div class="mdl-tooltip mdl-tooltip--large noselect" for="toolbar-text-line-spacing">Line spacing</div>
    
                <div class="toolbar-separator"></div>
              </div><!-- /text -->

              <!-- Text, shape, svg tools -->
              <div class="text shape svg">

                <!-- Fill color -->
                <div id="toolbar-fill-color" class="toolbar-item toolbar-dropdown mdi mdi-format-color-fill mdi-18px">
                  <div class="toolbar-menu-down mdi mdi-menu-down mdi-18px"></div>
                </div>
                <div class="mdl-tooltip mdl-tooltip--large noselect" for="toolbar-fill-color">Fill color</div>

                <!-- Border color -->
                <div id="toolbar-outline-color" class="toolbar-item toolbar-dropdown mdi mdi-border-color mdi-18px">
                  <div class="toolbar-menu-down mdi mdi-menu-down mdi-18px"></div>
                </div>
                <div class="mdl-tooltip mdl-tooltip--large noselect" for="toolbar-outline-color">Outline color</div>

                <!-- Border width -->
                <div id="toolbar-outline-width" class="toolbar-item toolbar-dropdown mdi mdi-format-line-weight mdi-18px">
                  <div class="toolbar-menu-down mdi mdi-menu-down mdi-18px"></div>

                  <div id="toolbar-outline-width-submenu" class="toolbar-submenu noselect scrolling noshow">
                  </div>
                </div>
                <div class="mdl-tooltip mdl-tooltip--large noselect" for="toolbar-outline-width">Outline width</div>

                <!-- Border style -->
                <div id="toolbar-outline-style" class="toolbar-item toolbar-dropdown mdi mdi-format-line-style mdi-18px">
                  <div class="toolbar-menu-down mdi mdi-menu-down mdi-18px"></div>

                  <div id="toolbar-outline-style-submenu" class="toolbar-submenu noselect scrolling noshow">
                  </div>
                </div>
                <div class="mdl-tooltip mdl-tooltip--large noselect" for="toolbar-outline-width">Outline style</div>

                <!-- Effects -->
                <div id="toolbar-effects" class="toolbar-item toolbar-dropdown mdi mdi-blur mdi-18px">
                  <div class="toolbar-menu-down mdi mdi-menu-down mdi-18px"></div>

                  <div class="toolbar-submenu noselect noshow no-auto-close" id="shadow-submenu">

                    <!-- Shadow -->
                    <div id="effects-box">
                      <label class="mdl-switch mdl-js-switch mdl-js-ripple-effect" for="shadow-switch" id="shadow-switch-label">
                        <input type="checkbox" id="shadow-switch" class="mdl-switch__input">
                        <span class="mdl-switch__label">Shadow</span>
                      </label>

                      <div id="shadow-options" class="fx-options">
                        <span class="effects-form-label">Offset</span> <br/>
                        <div class="slider-container">
                          <input class="mdl-slider mdl-js-slider" type="range" min="0" max="100" value="5" tabindex="0" id="shadow-offset-slider">
                        </div>

                        <span class="effects-form-label">Blur</span> <br/>
                        <div class="slider-container">
                          <input class="mdl-slider mdl-js-slider" type="range" min="0" max="100" value="15" tabindex="0" id="shadow-blur-slider">
                        </div>

                        <span class="effects-form-label">Color</span> <br/>
                        <input type="text" class="hex-display" id="shadow-color-hex" value="#000000" disabled="disabled">
                        <input type="text" id="shadow-color-picker">

                      </div>

                      <!-- Glow -->
                      <label class="mdl-switch mdl-js-switch mdl-js-ripple-effect" for="glow-switch" id="glow-switch-label">
                        <input type="checkbox" id="glow-switch" class="mdl-switch__input">
                        <span class="mdl-switch__label">Glow</span>
                      </label>

                      <div id="glow-options" class="fx-options">
                        <span class="effects-form-label">Size</span> <br/>
                        <div class="slider-container">
                          <input class="mdl-slider mdl-js-slider" type="range" min="0" max="100" value="25" tabindex="0" id="glow-size-slider">
                        </div>

                        <span class="effects-form-label">Color</span> <br/>
                        <input type="text" class="hex-display" id="glow-color-hex" value="#000000" disabled="disabled">
                        <input type="text" id="glow-color-picker">
                      </div>

                    </div><!-- /effects-box -->
                  </div><!-- /submenu -->
                </div><!-- /toolbar-effects -->
                <div class="mdl-tooltip mdl-tooltip--large noselect" for="toolbar-effects">Effects</div>
              </div><!-- /text shape svg -->

              <!-- Text, shape tools -->
              <div class="text shape">
                <!-- empty -->
              </div>

              <!-- Shape tools -->
              <div class="shape">
                <!-- empty -->
              </div>

              <!-- SVG tools -->
              <div class="svg">
                <!-- empty -->
              </div>

            </div><!-- /active-tools -->
          </div><!-- /toolbar -->

          <!-- Canvas -->
          <div id="content">
            <div id="canvas-container">
              <canvas id="c" width="100%" height="10000"></canvas>
            </div>
          </div><!-- /content -->
        </div><!-- /container -->

        <!-- Spinner -->
        <div id="loading-spinner" class="noshow">
          <div class="mdl-spinner mdl-js-spinner is-active"></div>
        </div>

      </main> <!-- /editor-content -->
    </div> <!-- /editor-layout -->

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/1.7.16/fabric.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/material-design-lite/1.3.0/material.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/spectrum/1.8.0/spectrum.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dialog-polyfill/0.4.7/dialog-polyfill.min.js"></script>

    <script type="text/javascript" src="svg-editor.js"></script>

    <!-- Fonts -->
    <script>
      WebFontConfig = {
        // Google fonts
        google: {
          families: [
            'Actor', 'Amaranth', 'Amatic SC', 'Amiri', 'Antic', 'Anton', 
            'Arapey', 'Architects Daughter', 'Archivo Black', 'Arimo', 
            'Audiowide', 'Bad Script', 'Bangers', 'BenchNine', 'Bitter', 
            'Black Ops One', 'Candal', 'Chewy', 'Cinzel', 'Cookie', 
            'Covered By Your Grace', 'Damion', 'Dancing Script', 
            'Droid Serif', 'Enriqueta', 'Exo', 'Francois One', 
            'Fredoka One', 'Fugaz One', 'Indie Flower', 'Karla', 
            'Kaushan Script', 'Lato', 'Limelight', 'Lobster', 
            'Lobster Two', 'Lora', 'Luckiest Guy', 'Molengo', 'Monda', 
            'Montserrat', 'News Cycle', 'Open Sans', 'Orbitron', 'Oswald', 
            'Pacifico', 'Passion One', 'Paytone One', 'Permanent Marker', 
            'Playfair Display SC', 'Poiret One', 'Raleway', 'Roboto', 
            'Roboto Mono', 'Rock Salt', 'Russo One', 'Satisfy', 
            'Shadows Into Light', 'Sigmar One', 'Special Elite', 'Ubuntu', 
            'Varela Round', 'Vidaloka', 'Yanone Kaffeesatz'
          ]
        },

        // Adobe fonts: Liberation Sans
        typekit: {
          id: 'qiu7asr'
        },

        // Event to trigger when a font is loaded
        fontactive: function(familyName, fvd) {
          $(window).trigger("fontLoadedEvent", [familyName, fvd]);
        },

        // Event to trigger when all fonts are loaded
        active: function() {
          $(window).trigger("allFontsLoadedEvent");
        }
      };

      // Load the specified fonts asynchronously
      (function(d) {
        var wf = d.createElement('script'), s = d.scripts[0];
        wf.src = '//ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js';
        s.parentNode.insertBefore(wf, s);
      })(document);
    </script>

    <!-- Dialogs -->

    <!-- Import file dialog -->
    <dialog id="import-file-dialog" class="mdl-dialog editor-dialog">
      <div class="mdl-dialog__title dialog-title">
        Import images
      </div>

      <div id="import-file-dialog-content" class="mdl-dialog__content editor-dialog-content">
        <div id="import-file-dialog-dropzone" class="import-file-dropzone">
          Drag an image file here
        </div>
      </div>

      <div class="mdl-dialog__actions">
        <button id="import-file-dialog-ok" 
                class="mdl-button mdl-js-button mdl-button--raised mdl-button--primary dialog-ok-button">
          Import
        </button>
        <button id="import-file-dialog-cancel" 
                class="mdl-button mdl-js-button mdl-button--raised mdl-button--accent dialog-cancel-button">
          Cancel
        </button>
      </div>
    </dialog><!-- /import-file-dialog -->

  </body>
</html>
